
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Contribution &#8212; CAPRI 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Models" href="models.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="contribution">
<h1>Contribution<a class="headerlink" href="#contribution" title="Permalink to this headline">¶</a></h1>
<p>There are many ways to contribute to <code class="docutils literal notranslate"><span class="pre">CAPRI</span></code>!
You can contribute code, make improvements to the documentation, report or investigate <a class="reference external" href="https://github.com/CARecSys/CAPRI/issues/">bugs and issues</a>.
We welcome all contributions from bug fixes to new features and extensions.
Feel free to share with us your custom configuration files.
We are creating a vault of reproducible experiments, and we would be glad of mentioning your contribution.
Reference <code class="docutils literal notranslate"><span class="pre">CAPRI</span></code> in your blogs, papers, and articles.
Also, talk about CAPRI on social media with the hashtag <code class="docutils literal notranslate"><span class="pre">#capri_framework</span></code>.
Contribution to the project can be done through various approaches:</p>
<section id="adding-a-new-dataset">
<h2>Adding a new dataset<a class="headerlink" href="#adding-a-new-dataset" title="Permalink to this headline">¶</a></h2>
<p>All datasets can be found in <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/tree/main/Data">Data</a> directory. In order to add a new dataset, you should:</p>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">config.py</span></code> file and add a record to the datasets dictionary.
The key of the item should be the dataset’s name (CapitalCase) and the value is an array of strings containing the dataset scopes (all CapitalCase).
For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;DatasetName&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="s2">&quot;Scope1&quot;</span><span class="p">,</span> <span class="s2">&quot;Scope2&quot;</span><span class="p">,</span> <span class="s2">&quot;Scope3&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Add a folder to the <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/tree/main/Data">Data</a> directory with the exact same name selected in the previous step.
This way, your configs are attached to the dataset.
In the created folder, add files of the dataset (preferably camelCase, e.g. socialRelations).
Note that for each of these files, a variable with the exact same name will be automatically generated and fed to the models section.
You can find a sample for the dataset sturcture here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span> <span class="n">Data</span><span class="o">/</span>
    <span class="o">+</span> <span class="n">Dataset1</span>
        <span class="o">+</span> <span class="n">datasetFile1</span>
        <span class="o">+</span> <span class="n">datasetFile2</span>
        <span class="o">+</span> <span class="n">datasetFile3</span>
    <span class="o">+</span> <span class="n">Dataset2</span>
        <span class="o">+</span> <span class="n">datasetFile4</span>
        <span class="o">+</span> <span class="n">datasetFile5</span>
        <span class="o">+</span> <span class="n">datasetFile6</span>
</pre></div>
</div>
</section>
<section id="adding-a-new-model">
<h2>Adding a new model<a class="headerlink" href="#adding-a-new-model" title="Permalink to this headline">¶</a></h2>
<p>Models can be found in <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/tree/main/Models">Models</a> directory. In order to add a new model, you should:</p>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">config.py</span></code> file and add a record to the models dictionary.
The key of the item should be the model’s name (CapitalCase) and the value is an array of strings containing the scopes that mode covers (all CapitalCase).
For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;ModelName&quot;</span><span class="p">:</span>  <span class="p">[</span><span class="s2">&quot;Scope1&quot;</span><span class="p">,</span> <span class="s2">&quot;Scope2&quot;</span><span class="p">,</span> <span class="s2">&quot;Scope3&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Add a folder to the <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/tree/main/Models">Models</a> directory with the exact same name selected in the previous step.
This way, your configs are attached to the model.
In the created folder, add files of the model (preferably camelCase, e.g. socialRelations).
Models contain a main.py file that holds the contents of the model.
The file main.py contains a class with the exact name of the model and the letter ‘Main’ (e.g. ModelNameMain).
This class should contain a main function with two argument: (i) datasetFiles dictionary, (ii) the parameters of the selected model (including top-K items for evaluation, sparsity ratio, restricted list for computation, and dataset name).
For a better description, check the code sample below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">...</span>

<span class="k">class</span> <span class="nc">NewModelMain</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">datasetFiles</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Other codes goes here&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>There is a <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> file in the <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/tree/main/Models">Models</a> directory that keeps the utilities that can be used in all models.
If you are thinking about a customized utilities with other functions, you can add an <code class="docutils literal notranslate"><span class="pre">extendedUtils.py</span></code> file in the model’s directory.
Also, a <code class="docutils literal notranslate"><span class="pre">/lib/</span></code> directory is considered in each model folders that contains the libraries used in the model.
You can find a sample for the dataset sturcture here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span> <span class="n">Models</span><span class="o">/</span>
    <span class="o">+</span> <span class="n">Model1</span><span class="o">/</span>
        <span class="o">+</span> <span class="n">lib</span><span class="o">/</span>
        <span class="o">+</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="o">+</span> <span class="n">main</span><span class="o">.</span><span class="n">py</span>
        <span class="o">+</span> <span class="n">extendedUtils</span><span class="o">.</span><span class="n">py</span>
    <span class="o">+</span> <span class="n">utils</span><span class="o">.</span><span class="n">py</span>
    <span class="o">+</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Note: do not forget to add a <code class="docutils literal notranslate"><span class="pre">init.py</span></code> file to the directories you make.</p>
</section>
<section id="adding-a-new-evaluation-metric">
<h2>Adding a new evaluation metric<a class="headerlink" href="#adding-a-new-evaluation-metric" title="Permalink to this headline">¶</a></h2>
<p>You can simply add the evaluations to the <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/blob/main/Evaluations/metrics/accuracy.py">accuracy.py</a> or <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/blob/main/Evaluations/metrics/beyoundAccuracy.py">beyoundAccuracy.py</a> files.
Please note that to ensure the evaluation modules work correctly, we use the Python unit test library which can be found in <a class="reference external" href="https://github.com/CapriRecSys/CAPRI/blob/main/Evaluations/test.py">test.py</a>.
To find out more about how unit tests work, check this <a class="reference external" href="https://jingwen-z.github.io/how-to-apply-mock-with-python-unittest-module/">Digital-Ocean link</a> .
Hereby, please always consider adding a unit test for the evaluation modules you add.
To run the test module, you can run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">unittest</span> <span class="n">test</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">CAPRI</a></h1>



<p class="blurb">The CAPRI project aims to automate contextual POI recommendation algorithms.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=CapriRecSys&repo=CAPRI&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation-metrics.html">Evaluation Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contribution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-new-dataset">Adding a new dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-new-model">Adding a new model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-new-evaluation-metric">Adding a new evaluation metric</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="models.html" title="previous chapter">Models</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Ali Tourani, Hossein A. Rahmani, Mohammadmehdi Naghiaei, Yashar Deldjoo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/contribution.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>